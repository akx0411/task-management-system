<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task Management FSM Visualizer</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 12px;
        padding: 30px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      }

      h1 {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 30px;
      }

      .fsm-diagram {
        width: 100%;
        max-width: 800px;
        margin: 0 auto;
        display: block;
      }

      .state-info {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 30px;
      }

      .state-card {
        background: #f8f9fa;
        border-radius: 8px;
        padding: 20px;
        border-left: 4px solid #007bff;
      }

      .state-card h3 {
        margin: 0 0 15px 0;
        color: #2c3e50;
      }

      .state-card ul {
        margin: 0;
        padding-left: 20px;
      }

      .state-card li {
        margin-bottom: 5px;
        color: #495057;
      }

      .current-state {
        background: #e8f5e8;
        border-left-color: #28a745;
      }

      .legend {
        background: #fff3cd;
        border: 1px solid #ffeaa7;
        border-radius: 8px;
        padding: 15px;
        margin: 20px 0;
      }

      .legend h4 {
        margin: 0 0 10px 0;
        color: #856404;
      }

      .instructions {
        background: #d1ecf1;
        border: 1px solid #b6d4db;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 20px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>🔄 Task Management FSM State Diagram</h1>

      <div class="instructions">
        <h4>📋 How to use this visualizer:</h4>
        <p>1. Open your browser's developer console (F12)</p>
        <p>2. The current FSM state and context will be logged in real-time</p>
        <p>3. Use this diagram to understand state transitions</p>
      </div>

      <div class="legend">
        <h4>🎯 State Legend:</h4>
        <p>
          <strong>Blue border:</strong> Regular states | <strong>Green border:</strong> Current
          active state
        </p>
      </div>

      <!-- ASCII FSM Diagram -->
      <pre
        class="fsm-diagram"
        style="
          background: #2c3e50;
          color: #ecf0f1;
          padding: 20px;
          border-radius: 8px;
          overflow-x: auto;
          font-size: 12px;
          line-height: 1.4;
        ">
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           TASK MANAGEMENT FSM                                  │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│    ┌─────────┐    SIGNUP_SUCCESS    ┌─────────┐    LOGIN_SUCCESS    ┌──────────┐│
│    │ SIGNUP  │ ──────────────────► │ LOGIN   │ ──────────────────► │DASHBOARD ││
│    │         │                     │         │                     │          ││
│    │ Initial │ ◄──────────────────── │         │                     │  ┌─────┐ ││
│    └─────────┘    GO_TO_SIGNUP      └─────────┘                     │  │IDLE │ ││
│         │                                │                          │  └─────┘ ││
│         │ LOGIN_SUCCESS                  │ LOGOUT                   │          ││
│         └────────────────────────────────┼─────────────────────────►│          ││
│                                          │                          └──┬───────┘│
│                                          │                             │        │
│     ┌──────────────────────────────────────────────────────────────────┘        │
│     │                                                                            │
│     ▼                                                                            │
│ ┌─────────────┐  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│ │ASSIGN_TASK  │  │ PENDING_TASKS   │  │COMPLETED_TASKS  │  │PROFILE_SETTINGS │  │
│ │             │  │                 │  │                 │  │                 │  │
│ │• Submit     │  │• Edit Task      │  │• Delete Task    │  │• Save Profile   │  │
│ │• Task Error │  │• Delete Task    │  │• Update Status  │  │• Update User    │  │
│ │             │  │• Update Status  │  │                 │  │                 │  │
│ └─────────────┘  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
│       │                  │                      │                      │        │
│       └──────────────────┼──────────────────────┼──────────────────────┘        │
│                          │                      │                               │
│          ┌───────────────┴──────────────────────┴───────────────┐               │
│          │           All states can navigate to:                │               │
│          │           • GO_TO_DASHBOARD                          │               │
│          │           • GO_TO_ASSIGN_TASK                       │               │
│          │           • GO_TO_PENDING_TASKS                     │               │
│          │           • GO_TO_COMPLETED_TASKS                   │               │
│          │           • GO_TO_PROFILE_SETTINGS                  │               │
│          └─────────────────────────────────────────────────────┘               │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
        </pre
      >

      <div class="state-info">
        <div class="state-card">
          <h3>🚀 signup</h3>
          <ul>
            <li>SIGNUP_SUCCESS → login</li>
            <li>SIGNUP_ERROR (stay)</li>
            <li>LOGIN_SUCCESS → dashboard</li>
            <li>GO_TO_LOGIN → login</li>
          </ul>
        </div>

        <div class="state-card">
          <h3>🔐 login</h3>
          <ul>
            <li>LOGIN_SUCCESS → dashboard</li>
            <li>LOGIN_ERROR (stay)</li>
            <li>GO_TO_SIGNUP → signup</li>
          </ul>
        </div>

        <div class="state-card current-state">
          <h3>📊 dashboard</h3>
          <ul>
            <li>Nested: idle, loading</li>
            <li>LOAD_TASKS (update context)</li>
            <li>LOAD_USERS (update context)</li>
            <li>LOGOUT → login</li>
            <li>Navigation to other states</li>
          </ul>
        </div>

        <div class="state-card">
          <h3>📝 assignTask</h3>
          <ul>
            <li>SUBMIT_TASK (stay)</li>
            <li>TASK_ERROR (stay)</li>
            <li>Navigation to other states</li>
          </ul>
        </div>

        <div class="state-card">
          <h3>⏳ pendingTasks</h3>
          <ul>
            <li>EDIT_TASK (update context)</li>
            <li>DELETE_TASK (update context)</li>
            <li>UPDATE_TASK_STATUS_SUCCESS</li>
            <li>MARK_AS_COMPLETED</li>
            <li>Navigation to other states</li>
          </ul>
        </div>

        <div class="state-card">
          <h3>✅ completedTasks</h3>
          <ul>
            <li>DELETE_TASK (update context)</li>
            <li>UPDATE_TASK_STATUS_SUCCESS</li>
            <li>Navigation to other states</li>
          </ul>
        </div>

        <div class="state-card">
          <h3>👤 profileSettings</h3>
          <ul>
            <li>SAVE_PROFILE (update context)</li>
            <li>Navigation to other states</li>
          </ul>
        </div>
      </div>

      <div style="margin-top: 30px; text-align: center; color: #6c757d">
        <p>💡 <strong>Tip:</strong> Open browser console to see real-time FSM state changes</p>
      </div>
    </div>

    <script>
      // Log FSM information
      console.log("🔄 Task Management FSM Visualizer Loaded");
      console.log("📋 State Machine Structure:");
      console.log({
        initialState: "signup",
        states: [
          "signup",
          "login",
          "dashboard",
          "assignTask",
          "pendingTasks",
          "completedTasks",
          "profileSettings",
        ],
        contextFields: ["user", "tasks", "users", "currentTask", "error"],
      });

      // You can add real-time FSM monitoring here if needed
      console.log("🎯 To monitor real-time state changes, connect this to your FSM service");
    </script>
  </body>
</html>
